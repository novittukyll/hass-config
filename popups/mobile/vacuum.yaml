---
action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Robotti-imuri
    card_mod:
      !include ../../ui/styles/popup.yaml
    content:
      type: vertical-stack
      cards:
        - type: custom:swipe-card
          parameters:
            pagination:
              type: bullets
            keyboard:
              enabled: true
              onlyInViewport: true
          cards:
            - type: vertical-stack
              cards:
                - type: entities
                  view_layout:
                    grid-area: info
                  card_mod:
                    !include ../../ui/styles/entities-card.yaml
                  title: Tiedot
                  show_header_toggle: false
                  entities:
                    - entity: vacuum.roborock_s6_pure
                      name: Tila
                    - entity: sensor.roborock_s6_pure_last_clean_end
                      name: Viimeksi siivonnut
                    - entity: sensor.roborock_s6_pure_time_to_next_clean
                      name: Seuraava siivous
                    - entity: sensor.roborock_s6_pure_dustbin_level
                      name: Pölysäiliön taso
                    - type: attribute
                      entity: vacuum.roborock_s6_pure
                      attribute: battery_level
                      name: Akun taso
                      icon: mdi:battery
                      suffix: '%'
                    - entity: sensor.roborock_s6_pure_filter
                    - entity: sensor.template_roborock_s6_pure_main_brush
                    - entity: sensor.template_roborock_s6_pure_side_brush
                    - entity: sensor.template_roborock_s6_pure_sensors

                - type: custom:mod-card
                  view_layout:
                    grid-area: button1
                  card_mod:
                    style: |
                      ha-card {
                        display: flex;
                        justify-content: center;
                      }
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: button_vacuum_clean
                        styles:
                          card:
                            - margin-bottom: 1rem
                            - width: 50vw
                      - type: custom:button-card
                        template: button_vacuum_start_stop
                        styles:
                          card:
                            - margin-bottom: 1rem
                            - width: 50vw
                      - type: custom:button-card
                        template: button_vacuum_return_to_base
                        styles:
                          card:
                            - margin-bottom: 4rem
                            - width: 50vw

            - type: entities
              view_layout:
                grid-area: rooms
              card_mod:
                !include ../../ui/styles/entities-card.yaml
              title: Siivottavat huoneet
              show_header_toggle: true
              entities:
                - entity: input_boolean.vacuum_clean_entrance
                - entity: input_boolean.vacuum_clean_kitchen
                - entity: input_boolean.vacuum_clean_living_room
                - entity: input_boolean.vacuum_clean_office
                - entity: input_boolean.vacuum_clean_otsos_room
                - entity: input_boolean.vacuum_clean_sisus_room
                - entity: input_boolean.vacuum_clean_bedroom
                - entity: input_boolean.vacuum_clean_wc
                - entity: sensor.roborock_s6_pure_current_clean_area
                  name: Viimeksi siivottu ala
                - entity: sensor.roborock_s6_pure_area_cleaned_since_dustbin_emptying
                  name: Tyhjennyksen jälkeen

            - type: custom:xiaomi-vacuum-map-card
              card_mod:
                !include ../../ui/styles/vacuum-map-only-mobile.yaml
              title: Kartta
              view_layout:
                grid-area: map
              entity: vacuum.roborock_s6_pure
              map_source:
                camera: camera.vacuum_map
              calibration_source:
                camera: true
              language: en
              map_locked: true